From 6872c67a32d13e8e2ed7c6b5b271b4d318148921 Mon Sep 17 00:00:00 2001
From: llm96 <llm96@fervidex.net>
Date: Wed, 8 Oct 2025 17:48:39 +0100
Subject: Integrate JavaFX into build

---
 core/build.gradle.kts                                 | 11 +++++++++++
 .../bms/player/beatoraja/MainLoaderEntrypoint.java    |  8 ++++++++
 gradle/libs.versions.toml                             |  9 ++++++++-
 3 files changed, 27 insertions(+), 1 deletion(-)
 create mode 100644 core/src/bms/player/beatoraja/MainLoaderEntrypoint.java

diff --git a/core/build.gradle.kts b/core/build.gradle.kts
index 74a156dc..e19f8eae 100644
--- a/core/build.gradle.kts
+++ b/core/build.gradle.kts
@@ -63,6 +63,17 @@ tasks {
 
 // versions and bundles defined in ../gradle/libs.versions.toml
 dependencies {
+    implementation(libs.bundles.javafx)
+    
+    val javafxModules = listOf("base", "controls", "fxml", "graphics")
+    val javafxPlatforms = listOf("linux", "win", "mac")
+    
+    javafxModules.forEach { module ->
+        javafxPlatforms.forEach { platform ->
+            implementation("org.openjfx:javafx-$module:${libs.versions.javafx.get()}:$platform")
+        }
+    }
+
     implementation(libs.bundles.libgdx)
     
     implementation(libs.gdx.platform)  {
diff --git a/core/src/bms/player/beatoraja/MainLoaderEntrypoint.java b/core/src/bms/player/beatoraja/MainLoaderEntrypoint.java
new file mode 100644
index 00000000..403661df
--- /dev/null
+++ b/core/src/bms/player/beatoraja/MainLoaderEntrypoint.java
@@ -0,0 +1,8 @@
+package bms.player.beatoraja;
+
+public class MainLoaderEntrypoint {
+
+    public static void main(String[] args) {
+        MainLoader.main(args);
+    }
+}
diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 924a1d20..e87fe6d1 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -1,6 +1,7 @@
 [versions]
 beatoraja = "0.8.8-endlessdream"
 endlessdream = "pre0.3.1"
+javafx = "17.0.10"
 kotlin = "1.9.20"
 gdx = "1.13.0"
 gdx-controllers = "2.2.3"
@@ -25,6 +26,11 @@ guacamole = "0.3.5"
 kotlin-gradle-plugin = { group = "org.jetbrains.kotlin", name = "kotlin-gradle-plugin", version.ref = "kotlin" }
 kotlin-serialization-gradle-plugin = { group = "org.jetbrains.kotlin", name = "kotlin-serialization", version.ref = "kotlin" }
 
+javafx-base = { group = "org.openjfx", name = "javafx-base", version.ref = "javafx" }
+javafx-controls = { group = "org.openjfx", name = "javafx-controls", version.ref = "javafx" }
+javafx-fxml = { group = "org.openjfx", name = "javafx-fxml", version.ref = "javafx" }
+javafx-graphics = { group = "org.openjfx", name = "javafx-graphics", version.ref = "javafx" }
+
 gdx-core = { group = "com.badlogicgames.gdx", name = "gdx", version.ref = "gdx" }
 gdx-backend = { group = "com.badlogicgames.gdx", name = "gdx-backend-lwjgl3", version.ref = "gdx" }
 gdx-freetype = { group = "com.badlogicgames.gdx", name = "gdx-freetype", version.ref = "gdx" }
@@ -76,4 +82,5 @@ lwjgl3 = ["lwjgl", "lwjgl-jemalloc", "lwjgl-glfw", "lwjgl-openal", "lwjgl-opengl
 imgui = ["imgui", "imgui-lwjgl3", "imgui-linux", "imgui-windows", "imgui-macos"]
 ffmpeg = ["javacv", "javacpp", "ffmpeg"]
 codecs = ["commons-codec", "jflac"]
-jackson = ["jackson-core", "jackson-databind", "jackson-annotations"]
\ No newline at end of file
+jackson = ["jackson-core", "jackson-databind", "jackson-annotations"]
+javafx = ["javafx-base", "javafx-controls", "javafx-fxml", "javafx-graphics"]
\ No newline at end of file
-- 
2.51.0

