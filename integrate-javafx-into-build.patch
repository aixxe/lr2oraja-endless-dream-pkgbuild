From 6872c67a32d13e8e2ed7c6b5b271b4d318148921 Mon Sep 17 00:00:00 2001
From: llm96 <llm96@fervidex.net>
Date: Wed, 8 Oct 2025 17:48:39 +0100
Subject: Integrate JavaFX into build

---
 core/build.gradle.kts                                 | 11 +++++++++++
 .../bms/player/beatoraja/MainLoaderEntrypoint.java    |  8 ++++++++
 gradle/libs.versions.toml                             |  9 ++++++++-
 3 files changed, 27 insertions(+), 1 deletion(-)
 create mode 100644 core/src/bms/player/beatoraja/MainLoaderEntrypoint.java

diff --git a/core/build.gradle.kts b/core/build.gradle.kts
index 74a156dc..e19f8eae 100644
--- a/core/build.gradle.kts
+++ b/core/build.gradle.kts
@@ -63,6 +63,17 @@ tasks {
 
 // versions and bundles defined in ../gradle/libs.versions.toml
 dependencies {
+    implementation(libs.bundles.javafx)
+    
+    val javafxModules = listOf("base", "controls", "fxml", "graphics")
+    val javafxPlatforms = listOf("linux", "win", "mac")
+    
+    javafxModules.forEach { module ->
+        javafxPlatforms.forEach { platform ->
+            implementation("org.openjfx:javafx-$module:${libs.versions.javafx.get()}:$platform")
+        }
+    }
+
     implementation(libs.bundles.libgdx)
     
     implementation(libs.gdx.platform)  {
diff --git a/core/src/bms/player/beatoraja/MainLoaderEntrypoint.java b/core/src/bms/player/beatoraja/MainLoaderEntrypoint.java
new file mode 100644
index 00000000..403661df
--- /dev/null
+++ b/core/src/bms/player/beatoraja/MainLoaderEntrypoint.java
@@ -0,0 +1,8 @@
+package bms.player.beatoraja;
+
+public class MainLoaderEntrypoint {
+
+    public static void main(String[] args) {
+        MainLoader.main(args);
+    }
+}
diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml
index 924a1d20..196dca21 100644
--- a/gradle/libs.versions.toml
+++ b/gradle/libs.versions.toml
@@ -9,6 +9,7 @@ imgui = "1.86.12"
 javacv = "1.5.9"
 ffmpeg = "6.0-1.5.9"
 jflac = "1.5.2"
+javafx = "17.0.10"
 commons-codec = "1.15"
 commons-compress = "1.26.1"
 commons-dbutils = "1.6"
@@ -58,6 +59,11 @@ ffmpeg = { group = "org.bytedeco", name = "ffmpeg", version.ref = "ffmpeg" }
 jflac = { group = "org.jflac", name = "jflac-codec", version.ref = "jflac" }
 commons-codec = { group = "commons-codec", name = "commons-codec", version.ref = "commons-codec" }
 
+javafx-base = { group = "org.openjfx", name = "javafx-base", version.ref = "javafx" }
+javafx-controls = { group = "org.openjfx", name = "javafx-controls", version.ref = "javafx" }
+javafx-fxml = { group = "org.openjfx", name = "javafx-fxml", version.ref = "javafx" }
+javafx-graphics = { group = "org.openjfx", name = "javafx-graphics", version.ref = "javafx" }
+
 commons-compress = { group = "org.apache.commons", name = "commons-compress", version.ref = "commons-compress" }
 commons-dbutils = { group = "commons-dbutils", name = "commons-dbutils", version.ref = "commons-dbutils" }
 xz = { group = "org.tukaani", name = "xz", version.ref = "xz" }
@@ -76,4 +82,5 @@ lwjgl3 = ["lwjgl", "lwjgl-jemalloc", "lwjgl-glfw", "lwjgl-openal", "lwjgl-opengl
 imgui = ["imgui", "imgui-lwjgl3", "imgui-linux", "imgui-windows", "imgui-macos"]
 ffmpeg = ["javacv", "javacpp", "ffmpeg"]
 codecs = ["commons-codec", "jflac"]
-jackson = ["jackson-core", "jackson-databind", "jackson-annotations"]
\ No newline at end of file
+jackson = ["jackson-core", "jackson-databind", "jackson-annotations"]
+javafx = ["javafx-base", "javafx-controls", "javafx-fxml", "javafx-graphics"]
\ No newline at end of file
-- 
2.51.0

